<div class="p-4">
    <p-table
        [columns]="tableColumns"
        [value]="cartProducts()"
        [tableStyle]="{ 'min-width': '50rem' }"
        [paginator]="true"
        [rows]="5"
    >
        <ng-template pTemplate="caption">
            <h3 class="text-center">
                Produits
            </h3>
        </ng-template>
    
        <ng-template pTemplate="header" let-columns>
            <tr >
                <th *ngFor="let col of columns" class="font-bold text-base">
                    {{ col.header }}
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns="columns">
            <tr >
                @for ( col of columns; track col.field ) {
                    @if ( col.editable ) {
                        <td [pEditableColumn]="rowData[col.field]" [pEditableColumnField]="col.field">
                            <p-cellEditor>
                                <ng-template pTemplate="input">
                                    <input 
                                        pInputNumber
                                        [type]="col.type"
                                        [min]="1"
                                        [max]="rowData.quantity"
                                        [(ngModel)]="rowData[col.field]"
                                        (keydown.enter)="updateShoppingCart()" 
                                    />
                                </ng-template>
                                <ng-template pTemplate="output">
                                    {{ rowData[col.field] }}
                                </ng-template>
                            </p-cellEditor>
                        </td>
                    } @else {
                        <td class="font-light text-sm">
                            {{ rowData[col.field] }}
                        </td>
                    }
                }      
            </tr>
        </ng-template>
    </p-table>
</div>